(this.webpackJsonpimagequiz=this.webpackJsonpimagequiz||[]).push([[0],{21:function(e,t,a){e.exports=a(35)},26:function(e,t,a){},27:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(18),c=a.n(r),l=(a(26),a(5)),s=a(1),o=a(8),u=a(9),m=a(11),h=a(10),g=(a(27),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){fetch("https://hualiangqin-imagequiz.herokuapp.com/quizzes").then((function(e){return e.json()})).then((function(e){for(var t=[],a=[],i=[],r=0;r<e.length;r++)t.push(e[r].name),a.push(e[r].image),i.push(e[r].id);console.log(t),console.log(a),n.setState({quizNames:t,quizImgs:a,quizIds:i})})).catch((function(e){return console.log(e)}))},n.state={username:"",signin:!1,quizNames:[],quizImgs:[],quizIds:[]},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state,t=e.quizImgs,a=e.quizNames,n=e.quizIds,r=e.username,c={pathname:"/quiz",state:{id:n[0],user:r}},s={pathname:"/quiz",state:{id:n[1],user:r}},o={pathname:"/quiz",state:{id:n[2],user:r}},u={pathname:"/quiz",state:{id:n[3],user:r}},m=this.props.location,h="";return m&&m.state&&(h=m.state.user?m.state.user:""),i.a.createElement("div",null,i.a.createElement("div",{className:"homepage"},i.a.createElement("h1",null,"Homepage"),i.a.createElement("div",null,h.length<=0?"":i.a.createElement(l.b,{to:"/login"},i.a.createElement("button",null,"switch account"))),i.a.createElement("div",{className:"loginButton"},h.length>0?"User: "+h:i.a.createElement(l.b,{to:"/login"},i.a.createElement("button",null,"login")))),i.a.createElement("div",{className:"images"},i.a.createElement("div",{className:"img"},i.a.createElement(l.b,{to:c},i.a.createElement("img",{src:"https://hualiangqin-imagequiz.herokuapp.com/image/"+t[0],alt:"cherryblossom"})),i.a.createElement("label",null,a[0])),i.a.createElement("div",{className:"img"},i.a.createElement(l.b,{to:s},i.a.createElement("img",{src:"https://hualiangqin-imagequiz.herokuapp.com/image/"+t[1],alt:"daffodil"})),i.a.createElement("label",null,a[1])),i.a.createElement("div",{className:"img"},i.a.createElement(l.b,{to:o},i.a.createElement("img",{src:"https://hualiangqin-imagequiz.herokuapp.com/image/"+t[2],alt:"daisy"})),i.a.createElement("label",null,a[2])),i.a.createElement("div",{className:"img"},i.a.createElement(l.b,{to:u},i.a.createElement("img",{src:"https://hualiangqin-imagequiz.herokuapp.com/image/"+t[3],alt:"lily"})),i.a.createElement("label",null,a[3]))))}}]),a}(i.a.Component)),p=a(20),d=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).submit=function(e){n.state.username.trim().length>0&&n.setState({signin:!0}),e.preventDefault()},n.handleChange=function(e){var t=e.target.value,a=e.target.name;n.setState(Object(p.a)({},a,t))},n.state={username:"",signin:!1},n}return Object(u.a)(a,[{key:"render",value:function(){var e={pathname:"/imagequiz",state:{user:this.state.username}};return this.state.signin?i.a.createElement(s.a,{to:e}):i.a.createElement("div",null,i.a.createElement("form",{onSubmit:this.submit},i.a.createElement("label",null,"User Name: "),i.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange}),i.a.createElement("button",{type:"submit"},"submit")))}}]),a}(i.a.Component),E=(a(33),a(34),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=n.props.location,t=0,a="";e&&e.state&&(t=e.state.id?e.state.id:"",a=e.state.user?e.state.user:"",n.setState({username:a})),fetch("https://hualiangqin-imagequiz.herokuapp.com/quiz/"+t).then((function(e){return e.json()})).then((function(e){n.setState({imgs:e.imgs,answer:e.answer,choice:e.choice})})).catch((function(e){return console.log(e)}))},n.handleOnClick=function(e){var t=n.state,a=t.cursor,i=t.choice,r=t.answer,c=t.scores,l=t.username;if(a<r.length&&(i[a][e]===r[a]&&n.setState({scores:c+1}),n.setState({cursor:a+1})),a+1===r.length){var s={user:l,scores:c};fetch("https://hualiangqin-imagequiz.herokuapp.com/score",{method:"POST",headers:{"Content-Type":"Application/json"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}},n.handleRestart=function(){n.setState({cursor:0,scores:0})},n.state={scores:0,imgs:[],answer:[],choice:[],cursor:0,username:""},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.cursor,n=t.imgs,r=t.answer,c=t.choice,s=t.scores,o=n[a],u=r[a],m=c[a];return console.log("cursor in render: "+a),i.a.createElement("div",{className:"content"},i.a.createElement("div",null,a===n.length?i.a.createElement("p",null,"scores: ",s):i.a.createElement("div",{className:"quiz"},i.a.createElement("img",{src:"https://hualiangqin-imagequiz.herokuapp.com/image/"+o,alt:u}),i.a.createElement("div",{className:"options"},i.a.createElement("label",{onClick:function(){return e.handleOnClick(0)}},m[0]),i.a.createElement("label",{onClick:function(){return e.handleOnClick(1)}},m[1]),i.a.createElement("label",{onClick:function(){return e.handleOnClick(2)}},m[2]),i.a.createElement("label",{onClick:function(){return e.handleOnClick(3)}},m[3])))),i.a.createElement("div",{className:"buttons"},i.a.createElement("button",{onClick:this.handleRestart},"Restart"),i.a.createElement(l.b,{to:"./imagequiz"},i.a.createElement("button",null,"HomePage"))))}}]),a}(i.a.Component));var b=function(){return i.a.createElement(l.a,null,i.a.createElement(s.d,null,i.a.createElement(s.b,{path:"/imagequiz",component:g}),i.a.createElement(s.b,{path:"/login",component:d}),i.a.createElement(s.b,{path:"/quiz",component:E})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.ebdb0825.chunk.js.map